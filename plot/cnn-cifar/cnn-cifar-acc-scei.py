# -*- coding: UTF-8 -*-

# For ubuntu env error: findfont: Font family ['Times New Roman'] not found. Falling back to DejaVu Sans.
# ```bash
# sudo apt-get install msttcorefonts
# rm -rf ~/.cache/matplotlib
# ```

import matplotlib.pyplot as plt
import matplotlib.font_manager as font_manager

x = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
     32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50]
local_train = [7.6, 41.8, 51.65, 54.35, 59.85, 60, 61.95, 61.45, 59.8, 63.1, 63.15, 63.15, 63.1, 62.95, 63, 63.1, 62.8, 62.85, 62.85, 62.9, 62.65, 62.65, 62.6, 62.7, 62.6, 62.55, 62.6, 62.55, 62.7, 62.7, 62.55, 62.65, 62.55, 62.65, 62.7, 62.7, 62.6, 62.75, 62.65, 62.65, 62.7, 62.75, 62.65, 62.6, 62.6, 62.65, 62.7, 62.6, 62.75, 62.75]
fed_avg = [18.45, 27.35, 28.25, 31.2, 32.85, 36.7, 38.5, 41.8, 42.2, 42.7, 44.35, 45.9, 45.1, 46.15, 45.7, 46.05, 46.4, 46.65, 46.85, 46.7, 45.25, 45.65, 45.9, 45.3, 46.2, 45.45, 46.2, 45.8, 45.5, 45.95, 45.35, 45.7, 44.55, 45.6, 44.8, 44.95, 45.05, 44.95, 44.8, 45.3, 45.65, 44.9, 45.3, 45.45, 45.75, 45.2, 45.8, 45.2, 45.55, 45.2]
scei = [45.05, 51.1, 56, 59.55, 62.05, 63.15, 62.95, 64.5, 64.4, 65.4, 65.7, 65.7, 65.7, 65.25, 65.25, 66.55, 65.8, 66.6, 66.55, 64.75, 65.45, 65.35, 64.65, 65.25, 65.45, 66.35, 65.8, 65.25, 65.45, 66.45, 66.5, 66.8, 66.75, 66.75, 66, 66.9, 66.4, 66.5, 66.15, 66.45, 66.55, 66.25, 66.35, 66.9, 66.85, 66.7, 66.35, 65.55, 66.2, 66.5]
a025 = [39.55, 46.25, 52.95, 54.65, 58.20, 57.65, 58.35, 58.70, 58.95, 58.30, 59.15, 58.55, 59.45, 59.80, 59.25, 59.85, 59.55, 59.65, 58.85, 58.80, 58.20, 58.25, 57.70, 57.75, 57.80, 57.80, 57.85, 57.05, 56.65, 57.45, 56.05, 56.80, 56.90, 55.25, 56.95, 56.25, 55.25, 56.80, 56.50, 57.25, 56.15, 55.95, 57.10, 55.55, 56.70, 56.15, 55.75, 55.55, 55.90, 56.25]
a05 = [40.10, 49.40, 54.90, 57.25, 60.65, 62.15, 63.75, 63.20, 65.70, 65.40, 64.50, 64.60, 64.55, 64.35, 64.40, 64.45, 63.15, 63.50, 63.80, 63.40, 63.55, 63.00, 62.65, 62.05, 62.10, 61.45, 62.00, 61.30, 62.00, 61.40, 60.95, 60.70, 61.10, 61.20, 61.10, 60.40, 60.60, 60.65, 61.20, 60.20, 60.60, 60.85, 60.20, 60.15, 60.50, 59.85, 60.40, 60.40, 59.75, 61.25]
a075 = [40.30, 50.95, 55.00, 58.25, 62.10, 61.50, 62.00, 62.65, 61.70, 63.30, 63.95, 63.55, 63.85, 64.05, 64.05, 63.45, 63.65, 64.45, 63.90, 63.15, 62.90, 62.50, 63.60, 63.30, 63.50, 64.05, 63.65, 63.50, 63.65, 63.60, 64.50, 64.00, 64.05, 63.80, 63.60, 63.65, 63.60, 63.70, 63.05, 63.80, 63.85, 63.95, 63.25, 63.65, 63.75, 64.40, 64.50, 63.90, 64.10, 64.05]

fig, axes = plt.subplots()

legendFont = font_manager.FontProperties(family='Times New Roman', weight='bold', style='normal', size=15)
xylabelFont = font_manager.FontProperties(family='Times New Roman', weight='bold', style='normal', size=17)
csXYLabelFont = {'fontproperties': xylabelFont}

axes.plot(x, scei, label="negotiated α (0.5-0.8)", linewidth=3)
axes.plot(x, fed_avg, label="α=0.0 (i.e. FedAvg)", linestyle='--', alpha=0.5)
axes.plot(x, a025, label="α=0.25", linestyle='--', alpha=0.5)
axes.plot(x, a05, label="α=0.5", linestyle='--', alpha=0.5)
axes.plot(x, a075, label="α=0.75", linestyle='--', alpha=0.5)
axes.plot(x, local_train, label="α=1.0 (i.e. Local Training)", linestyle='--', alpha=0.5)


axes.set_xlabel("Training Rounds", **csXYLabelFont)
axes.set_ylabel("Mean of Local Test Accuracy (%)", **csXYLabelFont)

plt.xticks(family='Times New Roman', fontsize=15)
plt.yticks(family='Times New Roman', fontsize=15)
plt.ylim(30)
plt.legend(prop=legendFont)
plt.grid()
plt.show()
